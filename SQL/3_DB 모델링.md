## 3_DB 모델링

"설계도가 완전히 완성되기 전까지 벽돌을 쌓지 않는다."

소프트웨어 개발 방법론 중에 가장 오래되고 전통적인 방법

- 폭포수 모델 
  - 프로젝트 계획
  - 업무 분석
  - 시스템 설계
  - 프로그램 구현
  - 테스트
  - 유지보수
- 각 단계가 명확히 구분.
- 문제점이 발견될 경우 거슬러 올라가기 어렵다는 단점.
- 분석과 설계에 비중을 많이 두어야 한다.

---

## 데이터베이스 모델링

- 현 세계에서 사용되는 작업이나 사물들을 DBMS의 데이터베이스 개체로 옮기기 위한 과정
- 현실에서 쓰이는 것을 테이블로 변경하는 과정
- ex) 고객이 직원에게 물건을 산다
  - 회원 테이블, 직원 테이블, 구매 테이블, 물품 테이블 등...
- 테이블 외의 다른 개체로 변환되기도 함
- 모델링은 사람에 따라 각기 다른 결과가 나올 수 있다.

크게 3단계를 거쳐서 완성된다.

1. 개념적 모델링
2. 논리적 모델링
3. 물리적 모델링

---

예제

- 고객의 방문 내역 기록이 있다고 하자
- 구매한 물건이 있을수도, 없을수도 있다.
- 이런 데이터를 한 테이블로 만들어버리면 L자형 테이블이 되어, 공간이 낭비된다.
- 따라서 고객 테이블과 구매 테이블로 나눌 수 있다.
- 나눌 때 어떤 고객이 어떤 물건을 구매했는지 알 수 있어야 하므로
- 고객 테이블과 구매 테이블은 밀접한 관련이 있다.
- 따라서 두 테이블 간 업무적 연관성을 맺어줘야 하며, 이를 "관계"라고 한다.
- 이제 둘 중 누가 부모 테이블이 될지 정해야 한다.
- 보통 주가 되는 쪽이 부모, 상세내역이 되는 쪽이 자식이 된다.

> 관계 맺기
>
> 테이블의 관계를 맺어주는 역할은 기본 키와 외래 키를 설정함으로써 이뤄진다.
>
> 고객 테이블의 "이름" 열을 기본 키로 설정했으니, 구매 테이블의 외래 키도 "이름" 으로 설정한다.
>
> **외래 키를 가지고 부모 테이블로 찾아가면 유일하게 하나의 정보를 얻을 수 있다.**
>
> 관계가 맺어지면, 제약 조건이라는 관계가 자동으로 설정된다.
> (ex. 회원가입이 안 되어 있는데, 물건을 구매하려는 경우)
> (ex. 구매기록을 삭제 전에 탈퇴하려는 경우)

---

- DDL 문 (Data Definition Language)
  - CREATE, DROP, ALTER 문을 의미한다.
